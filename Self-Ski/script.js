document.addEventListener('DOMContentLoaded', () => {const menuToggle = document.getElementById('menu-toggle');const mainNav = document.getElementById('main-nav');const navLinks = document.querySelectorAll('.nav-link');const scrollLinks = document.querySelectorAll('.scroll-link');menuToggle.addEventListener('click', () => {mainNav.classList.toggle('active');menuToggle.classList.toggle('active');});navLinks.forEach(link => {link.addEventListener('click', () => {if (mainNav.classList.contains('active')) {mainNav.classList.remove('active');menuToggle.classList.remove('active');}});});scrollLinks.forEach(link => {link.addEventListener('click', function(e) {e.preventDefault();const targetId = this.getAttribute('href');const targetElement = document.querySelector(targetId);if (targetElement) {const headerOffset = document.querySelector('.header').offsetHeight;const elementPosition = targetElement.getBoundingClientRect().top + window.pageYOffset;const offsetPosition = elementPosition - headerOffset - 20;window.scrollTo({top: offsetPosition,behavior: 'smooth'});}});});const leadForm = document.getElementById('lead-form');const thankYouMsg = document.getElementById('thank-you-msg');const submitButton = leadForm ? leadForm.querySelector('button[type="submit"]') : null;const GOOGLE_FORM_URL = 'https://docs.google.com/forms/d/e/19KVVKgDGp1vpUagCVs4le5faMmdralndD4P5wkF8C5k/formResponse';const GOOGLE_FORM_MAPPING = {"email":"entry.1045781291","name":"entry.2005620554"};if (leadForm && submitButton) {leadForm.addEventListener('submit', async function(e) {e.preventDefault();const originalButtonText = submitButton.textContent;submitButton.textContent = 'שולח...';submitButton.disabled = true;const formData = new FormData(this);const googleFormData = new FormData();for (const [key, value] of formData.entries()) {if (GOOGLE_FORM_MAPPING[key]) {googleFormData.append(GOOGLE_FORM_MAPPING[key], value);}}try {await fetch(GOOGLE_FORM_URL, {method: 'POST',mode: 'no-cors',body: googleFormData});console.log('Google Forms submission initiated (no-cors). Assuming success and displaying thank you message.');leadForm.style.display = 'none';thankYouMsg.style.display = 'block';} catch (error) {console.error('Google Forms submission failed:', error);alert('אירעה שגיאה בעת שליחת הטופס. אנא נסו שוב מאוחר יותר.');leadForm.style.display = 'block';thankYouMsg.style.display = 'none';} finally {submitButton.textContent = originalButtonText;submitButton.disabled = false;}});}});